services:
  # MTG (MTProto Gateway) - Alternative 1
  mtproto-mtg:
    image: nineseconds/mtg:latest
    container_name: mtproto-mtg
    ports:
      - "8443:3128"
    command: run --bind 0.0.0.0:3128 ${MTPROTO_MTG_SECRET}
    restart: always
    env_file:
      - .env

  # Telegram Official Proxy - Alternative 2
  mtproto-telegram:
    image: telegrammessenger/proxy:latest
    container_name: mtproto-telegram
    ports:
      - "8444:443"
    environment:
      - SECRET=${MTPROTO_TELEGRAM_SECRET}
    restart: always
    env_file:
      - .env
